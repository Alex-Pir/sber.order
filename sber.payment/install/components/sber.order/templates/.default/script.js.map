{"version":3,"file":"script.js","sources":["vue/src/main.js"],"sourcesContent":["export let OrderPaymentForm = {\r\n    name: 'OrderPayment',\r\n    data() {\r\n        return {\r\n            lastName: '',\r\n            name: '',\r\n            secondName: '',\r\n            productId: 0,\r\n            amount: 1,\r\n            price: 0,\r\n            errors: [],\r\n            isOrderCreated: false,\r\n            orderId: 0,\r\n            orderCreateUrl: 'sber:payment.order.ordercontroller.'\r\n        }\r\n    },\r\n    methods: {\r\n        preparePrice() {\r\n            for (const index in this.PRODUCTS) {\r\n                if (this.PRODUCTS[index].ID !== this.productId) {\r\n                    continue;\r\n                }\r\n\r\n                this.price = this.PRODUCTS[index].ORIGINAL_PRICE * this.amount;\r\n            }\r\n        },\r\n        createOrder() {\r\n            let formSendAll = new FormData();\r\n\r\n            formSendAll.append('user_last_name', this.lastName);\r\n            formSendAll.append('user_name', this.name);\r\n            formSendAll.append('user_second_name', this.secondName);\r\n            formSendAll.append('product_id', this.productId);\r\n            formSendAll.append('amount', this.amount);\r\n\r\n            this.$request\r\n                .setUrl(this.orderCreateUrl + 'create')\r\n                .setData(formSendAll)\r\n                .send()\r\n                .then(response => {\r\n                    this.isOrderCreated = true;\r\n                    this.orderId = response.order_id;\r\n                })\r\n                .catch(error => {\r\n                    this.errors = [];\r\n                    this.errors.push(error);\r\n                });\r\n        }\r\n    }\r\n}\r\n\r\nexport default {OrderPaymentForm}\r\n"],"names":["OrderPaymentForm","name","data","lastName","secondName","productId","amount","price","errors","isOrderCreated","orderId","orderCreateUrl","methods","preparePrice","index","PRODUCTS","ID","ORIGINAL_PRICE","createOrder","_this","formSendAll","FormData","append","$request","setUrl","setData","send","then","response","order_id","error","push"],"mappings":"gFAAWA,CAAAA,CAAgB,CAAG,CAC1BC,IAAI,CAAE,cAAc,CACpBC,IAAI,WAAG,CACH,MAAO,CACHC,QAAQ,CAAE,EAAE,CACZF,IAAI,CAAE,EAAE,CACRG,UAAU,CAAE,EAAE,CACdC,SAAS,CAAE,CAAC,CACZC,MAAM,CAAE,CAAC,CACTC,KAAK,CAAE,CAAC,CACRC,MAAM,CAAE,EAAE,CACVC,cAAc,GAAO,CACrBC,OAAO,CAAE,CAAC,CACVC,cAAc,CAAE,uCAEvB,CACDC,OAAO,CAAE,CACLC,YAAY,WAAG,CACX,IAAK,GAAMC,CAAAA,CAAK,GAAI,KAAI,CAACC,QAAQ,CACzB,IAAI,CAACA,QAAQ,CAACD,CAAK,CAAC,CAACE,EAAE,GAAK,IAAI,CAACX,SAAS,GAI9C,IAAI,CAACE,KAAK,CAAG,IAAI,CAACQ,QAAQ,CAACD,CAAK,CAAC,CAACG,cAAc,CAAG,IAAI,CAACX,MAAM,EAErE,CACDY,WAAW,WAAG,IAAAC,CAAAA,CAAA,MACNC,CAAW,CAAG,GAAIC,CAAAA,QAAU,CAEhCD,CAAW,CAACE,MAAM,CAAC,gBAAgB,CAAE,IAAI,CAACnB,QAAQ,CAAC,CACnDiB,CAAW,CAACE,MAAM,CAAC,WAAW,CAAE,IAAI,CAACrB,IAAI,CAAC,CAC1CmB,CAAW,CAACE,MAAM,CAAC,kBAAkB,CAAE,IAAI,CAAClB,UAAU,CAAC,CACvDgB,CAAW,CAACE,MAAM,CAAC,YAAY,CAAE,IAAI,CAACjB,SAAS,CAAC,CAChDe,CAAW,CAACE,MAAM,CAAC,QAAQ,CAAE,IAAI,CAAChB,MAAM,CAAC,CAEzC,IAAI,CAACiB,QAAQ,CACRC,MAAM,CAAC,IAAI,CAACb,cAAc,CAAG,QAAQ,CAAC,CACtCc,OAAO,CAACL,CAAW,CAAC,CACpBM,IAAI,EAAE,CACNC,IAAI,CAAC,SAAAC,CAAQ,CAAI,CACdT,CAAI,CAACV,cAAc,GAAO,CAC1BU,CAAI,CAACT,OAAO,CAAGkB,CAAQ,CAACC,SAC3B,CAAC,SACI,CAAC,SAAAC,CAAK,CAAI,CACZX,CAAI,CAACX,MAAM,CAAG,EAAE,CAChBW,CAAI,CAACX,MAAM,CAACuB,IAAI,CAACD,CAAK,EACzB,GAGjB,CAAC,gCAEc,CAAC9B,gBAAgB,CAAhBA,CAAgB"}