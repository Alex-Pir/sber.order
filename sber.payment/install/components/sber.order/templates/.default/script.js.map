{"version":3,"file":"script.js","sources":["vue/src/main.js"],"sourcesContent":["export let OrderPaymentForm = {\r\n    name: 'OrderPayment',\r\n    data() {\r\n        return {\r\n            lastName: '',\r\n            name: '',\r\n            secondName: '',\r\n            productId: 0,\r\n            amount: 1,\r\n            price: 0,\r\n            errors: [],\r\n            isOrderCreated: false,\r\n            orderUrl: 'sber:payment.order.ordercontroller.'\r\n        }\r\n    },\r\n    methods: {\r\n        preparePrice() {\r\n            for (const index in this.products) {\r\n                if (this.products[index].ID !== this.productId) {\r\n                    continue;\r\n                }\r\n\r\n                this.price = this.products[index].ORIGINAL_PRICE * this.amount;\r\n            }\r\n        },\r\n        createOrder() {\r\n            let formSendAll = new FormData();\r\n\r\n            formSendAll.append('user_last_name', this.lastName);\r\n            formSendAll.append('user_name', this.name);\r\n            formSendAll.append('user_second_name', this.secondName);\r\n            formSendAll.append('product_id', this.productId);\r\n            formSendAll.append('amount', this.amount);\r\n\r\n            this.$request\r\n                .setUrl(this.orderUrl + 'create')\r\n                .setData(formSendAll)\r\n                .send()\r\n                .then(response => {\r\n                    this.isOrderCreated = true;\r\n                    this.orderId = response.order_id;\r\n                    this.errors = [];\r\n                })\r\n                .catch(error => {\r\n                    this.errors = [];\r\n                    this.errors.push(error);\r\n                });\r\n        },\r\n        registerOrder() {\r\n            let formSendAll = new FormData();\r\n\r\n            formSendAll.append('order_id', this.orderId);\r\n\r\n            this.$request\r\n                .setUrl(this.orderUrl + 'pay')\r\n                .setData(formSendAll)\r\n                .send()\r\n                .then(response => {\r\n                    this.errors = [];\r\n                    location.href = response;\r\n                })\r\n                .catch(error => {\r\n                    this.errors = [];\r\n                    this.errors.push(error);\r\n                });\r\n        }\r\n    }\r\n}\r\n\r\nexport default {OrderPaymentForm}\r\n"],"names":["OrderPaymentForm","name","data","lastName","secondName","productId","amount","price","errors","isOrderCreated","orderUrl","methods","preparePrice","index","products","ID","ORIGINAL_PRICE","createOrder","formSendAll","FormData","append","$request","setUrl","setData","send","then","response","_this","orderId","order_id","error","push","registerOrder","_this2","location","href"],"mappings":"gFAAWA,CAAAA,CAAgB,CAAG,CAC1BC,IAAI,CAAE,cAAc,CACpBC,IAAI,WAAG,CACH,MAAO,CACHC,QAAQ,CAAE,EAAE,CACZF,IAAI,CAAE,EAAE,CACRG,UAAU,CAAE,EAAE,CACdC,SAAS,CAAE,CAAC,CACZC,MAAM,CAAE,CAAC,CACTC,KAAK,CAAE,CAAC,CACRC,MAAM,CAAE,EAAE,CACVC,cAAc,GAAO,CACrBC,QAAQ,CAAE,uCAEjB,CACDC,OAAO,CAAE,CACLC,YAAY,WAAG,CACX,IAAK,GAAMC,CAAAA,CAAK,GAAI,KAAI,CAACC,QAAQ,CACzB,IAAI,CAACA,QAAQ,CAACD,CAAK,CAAC,CAACE,EAAE,GAAK,IAAI,CAACV,SAAS,GAI9C,IAAI,CAACE,KAAK,CAAG,IAAI,CAACO,QAAQ,CAACD,CAAK,CAAC,CAACG,cAAc,CAAG,IAAI,CAACV,MAAM,EAErE,CACDW,WAAW,WAAG,YACNC,CAAW,CAAG,GAAIC,CAAAA,QAAU,CAEhCD,CAAW,CAACE,MAAM,CAAC,gBAAgB,CAAE,IAAI,CAACjB,QAAQ,CAAC,CACnDe,CAAW,CAACE,MAAM,CAAC,WAAW,CAAE,IAAI,CAACnB,IAAI,CAAC,CAC1CiB,CAAW,CAACE,MAAM,CAAC,kBAAkB,CAAE,IAAI,CAAChB,UAAU,CAAC,CACvDc,CAAW,CAACE,MAAM,CAAC,YAAY,CAAE,IAAI,CAACf,SAAS,CAAC,CAChDa,CAAW,CAACE,MAAM,CAAC,QAAQ,CAAE,IAAI,CAACd,MAAM,CAAC,CAEzC,IAAI,CAACe,QAAQ,CACRC,MAAM,CAAC,IAAI,CAACZ,QAAQ,CAAG,QAAQ,CAAC,CAChCa,OAAO,CAACL,CAAW,CAAC,CACpBM,IAAI,EAAE,CACNC,IAAI,CAAC,SAAAC,CAAQ,CAAI,CACdC,CAAI,CAAClB,cAAc,GAAO,CAC1BkB,CAAI,CAACC,OAAO,CAAGF,CAAQ,CAACG,QAAQ,CAChCF,CAAI,CAACnB,MAAM,CAAG,GACjB,CAAC,SACI,CAAC,SAAAsB,CAAK,CAAI,CACZH,CAAI,CAACnB,MAAM,CAAG,EAAE,CAChBmB,CAAI,CAACnB,MAAM,CAACuB,IAAI,CAACD,CAAK,EACzB,EACR,CACDE,aAAa,WAAG,YACRd,CAAW,CAAG,GAAIC,CAAAA,QAAU,CAEhCD,CAAW,CAACE,MAAM,CAAC,UAAU,CAAE,IAAI,CAACQ,OAAO,CAAC,CAE5C,IAAI,CAACP,QAAQ,CACRC,MAAM,CAAC,IAAI,CAACZ,QAAQ,CAAG,KAAK,CAAC,CAC7Ba,OAAO,CAACL,CAAW,CAAC,CACpBM,IAAI,EAAE,CACNC,IAAI,CAAC,SAAAC,CAAQ,CAAI,CACdO,CAAI,CAACzB,MAAM,CAAG,EAAE,CAChB0B,QAAQ,CAACC,IAAI,CAAGT,EACnB,CAAC,SACI,CAAC,SAAAI,CAAK,CAAI,CACZG,CAAI,CAACzB,MAAM,CAAG,EAAE,CAChByB,CAAI,CAACzB,MAAM,CAACuB,IAAI,CAACD,CAAK,EACzB,GAGjB,CAAC,gCAEc,CAAC9B,gBAAgB,CAAhBA,CAAgB"}